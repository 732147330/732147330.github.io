<ion-view view-title="个人中心" class="yd-home" >

    <div class="user-center-block yd-account" nav-direction="forward" style="position:relative;">
        <div class="setting text-right pb30 pt20 fs14 iphone-x-top-20" ng-if="userInfo" style="position:relative;color: white;">
            <span ui-sref="dailyQuestion" nav-direction="forward" style="position: absolute;top: 27px;right: 80px;">每日答题</span>
            <span ui-sref="dailyCheck" nav-direction="forward" style="position: absolute;top: 25px;right:10px;">
                 <i class="icon jyicon">&#xe65f;</i>
                签到1
            </span>
        </div>
        <div style="display: flex;" class="iphone-x-pt-20">
            <div ng-if="userInfo" class="user-pic" on-tap="showImageUploadChoices()" style="background: url('{{userInfo.logoImageUrl || userPic}}') #fff no-repeat center;background-size: cover;"></div>
            <div ng-if="!userInfo" class="loginTip clearfix" style="padding-top: 67px;">
                <div class="login-img"><img ui-sref="login" nav-direction="forward" src="img/user.png"></div>
                <span class="fs14 mr1 active"  ui-sref="login" nav-direction="forward">登录</span>
                <span class="fs14 mr1 ml10" ui-sref="register" nav-direction="forward">注册</span>
            </div>
            <div ng-if="userInfo" class="user-info" ui-sref="personalInformation">
                <p class="fs16" style="height: 20px;overflow: hidden;white-space: nowrap;text-overflow: ellipsis;">{{userInfo.mmbName}}</p>
                <p class="mt10" style="height: 20px;overflow: hidden;white-space: nowrap;text-overflow: ellipsis;">个性签名：{{userInfo.selfIntroduction}}</p>
            </div>
        </div>
        <i ng-if="userInfo" ui-sref="personalInformation" class="ion-ios-arrow-right rBtn fs34"></i>
        <div class="accountmember-box2" ng-if="userInfo&&!equityCardFlag">
            <div class="member-tiao ml20" style="position: relative;">
                <div class="member-tiao-true" style="top: 0px" ng-style="{width:progress+'%'}"></div>
            </div>
            <div class="memberCenter-box2"  ui-sref="memberCenter" >
                <div ng-repeat="item in leveGrowData" style="width: 20%" >
                    <div class="memberCenter-box2-div1" ng-if="memberLevelData[0].description!=item.meaning" >{{item.lookupCode}}</div>
                    <div class="memberCenter-box2-div1" ng-if="memberLevelData[0].description==item.meaning" style="color: #fffcfc">{{item.lookupCode}}</div>
                </div>
            </div>
            <div class="memberCenter-box2"  ui-sref="memberCenter"  style="margin-top: -3px" ng-if="!leveGrowData">
                <div  style="width: 20%">
                    <div class="memberCenter-box2-div1" style="color: #fffcfc" ></div>
                </div>
            </div>
        </div>
        <div class="accountmember-box2" ng-if="userInfo&&equityCardFlag" style="position: relative;height: 115px;padding-bottom: 0px;">
            <div style="margin-left: 5%;text-align: left;color: white;">
                当前成长值:{{growthValue}}
                <span ng-if="currentMaxGrowthValue>growthValue">
                    （您差 {{currentMaxGrowthValue-growthValue}} 达到{{currentMaxGrowthValue}}）
                </span>
                <span ng-if="currentMaxGrowthValue===growthValue">
                   （您已达到最高成长值）
                </span>
            </div>
            <div class="scroll-outer">
                <div class="scroll-inner">
                    <div class="member-tiao" ng-style="{width: growthProgressWidth+'%'}">
                        <div class="member-tiao-true" ng-style="{width:currentGrowthProgressWidth+'px'}"></div>
                        <div class="memberCenter-box2">
                            <div ng-repeat="item in leveTreasureData" style="position: relative;left:-15px;display:flex;flex-direction:column;align-items:center;" ng-style="{left: item.levelDistance+'px'}">
                                <img class="box-no-active" ng-class="growthValue>=item.node?'shake-active':''" ng-if="$index>0&&item.status==='N'" src="img/box-notActive.png" ng-click="goCouponCenter(item.node)">
                                <img class="box-active" ng-if="$index>0&&growthValue>=item.node&&item.status==='N'" src="img/box-active.png">
                                <img class="box-invalid" ng-if="$index>0&&item.status==='Y'" src="img/box-invalid.png">
                                <div class="triangle-top" ng-style="$index===0?{'border-width':'10px','margin-top':'30px'}:{}">
                                    <div class="triangle-inner-top" ng-if="$index!=0&&item.node<=growthValue"></div>
                                </div>
                                <div class="triangle-bottom" ng-style="$index===0?{'border-width':'10px','margin-top':'-1px'}:{}">
                                    <div class="triangle-inner-bottom" ng-if="$index!=0&&item.node<=growthValue"></div>
                                </div>
                                <span style="color: white;">{{item.node}}</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <p style="text-align: center;color: white;padding-bottom: 5px;">
            <span ui-sref="memberCenter">{{planData[0].description}}</span>
            <span on-tap="show()">（点击切换）</span>
        </p>
    </div>

    <div class="accountmember-box1">
        <p ui-sref="myVipHome" nav-direction="forward">
            <span>{{cardIntegral}}</span>
            <span style="color: black;font-size: 13px;">积分</span>
        </p>
        <p ui-sref="myVipHome" nav-direction="forward">
            <span>{{cardBalance}}</span>
            <span style="color: black;font-size: 13px;">余额</span>
        </p>
        <p ui-sref="myVipHome" nav-direction="forward">
            <span>{{cardLevel}}</span>
            <span style="color: black;font-size: 13px;">卡等级</span>
        </p>
        <p ui-sref="yhj" nav-direction="forward" style="position: relative;">
            <span class="coupon-dot" ng-if="couponCount > 0"></span>
            <span>{{couponCount}}</span>
            <span style="color: black;font-size: 13px;">可用券</span>
        </p>
    </div>
    <style>
        .accountmember-box2 .scroll-outer {
            position: absolute;
            top: 0px;
            left: 0px;
            width: 100%;
            height: 100%;
        }
        .accountmember-box2 .scroll-inner {
            position: relative;
            margin: 0 auto;
            width: 90%;
            height: 100%;
            opacity: 0;
        }
        .scroll-outer .member-tiao {
            position: static;
            margin-top: 68px;
            margin-left: 7px;
            height: 9px;
            border-radius: 30px;
            background: #6C6C6C;
            border:1px solid #575757;
            z-index: 999;
        }
        .scroll-outer .member-tiao .member-tiao-true {
            height: 7px;
            border-radius: 30px;
            top: 69px;
            left: 7px;
            background: #C8B5AA;
            background: -moz-linear-gradient(-45deg, #B1988B 25%,#C8B5AA 0,#C8B5AA 50%,#B1988B 0, #B1988B 75%,#C8B5AA 0);
            background: -webkit-linear-gradient(-45deg, #B1988B 25%,#C8B5AA 0,#C8B5AA 50%,#B1988B 0, #B1988B 75%,#C8B5AA 0);
            background: -o-linear-gradient(-45deg, #B1988B 25%,#C8B5AA 0,#C8B5AA 50%,#B1988B 0, #B1988B 75%,#C8B5AA 0);
            background: linear-gradient(-45deg, #B1988B 25%,#C8B5AA 0,#C8B5AA 50%,#B1988B 0, #B1988B 75%,#C8B5AA 0);
            background-size: 15px 15px;
            text-align: center;
            z-index: 9999999;
        }
        .scroll-outer .memberCenter-box2 {
            position: absolute;
            top: 40px;
            left: 0px;
            width: 100%;
        }
        .accountmember-box2 .memberCenter-box2 .box-no-active {
            margin: 0px 0px 2px 2px;
            width: 25px;
            height: 25px;
            border-radius: initial;
            z-index: 9999;

            transition: all .5s;
            -moz-transition: all .5s; /* Firefox 4 */
            -webkit-transition: all .5s; /* Safari 和 Chrome */
            -o-transition: all .5s; /* Opera */
        }
        .accountmember-box2 .memberCenter-box2 .box-active {
            position: absolute;
            top: -15px;
            width: 60px;
            height: 60px;
            border-radius: initial;

            transform: scale(1.3);
            opacity: 0.3;

            transition: all 1s;
            -moz-transition: all 1s; /* Firefox 4 */
            -webkit-transition: all 1s; /* Safari 和 Chrome */
            -o-transition: all 1s; /* Opera */
        }
        .accountmember-box2 .memberCenter-box2 .box-invalid {
            margin: 0px 0px 2px 2px;
            width: 25px;
            height: 25px;
            border-radius: initial;
            z-index: 9999;
        }
        .accountmember-box2 .memberCenter-box2 .triangle-top, .accountmember-box2 .memberCenter-box2 .triangle-bottom {
            position: relative;
            width:0;
            height:0;
            border-right: 6px solid transparent;
            border-left: 6px solid transparent;
            z-index: 9999;
        }
        .accountmember-box2 .memberCenter-box2 .triangle-top {
            margin-top: 3px;
            border-bottom: 6px solid #6C6C6C;
        }
        .accountmember-box2 .memberCenter-box2 .triangle-bottom {
            margin-top: 7px;
            border-top: 6px solid #6C6C6C;
        }
        .accountmember-box2 .memberCenter-box2 .triangle-inner-top, .accountmember-box2 .memberCenter-box2 .triangle-inner-bottom {
            position: absolute;
            width: 0;
            height: 0;
            border-right: 3px solid transparent;
            border-left: 3px solid transparent;
        }
        .accountmember-box2 .memberCenter-box2 .triangle-inner-top {
            top: 3px;
            left: -3px;
            border-bottom: 3px solid #B1988B;
        }
        .accountmember-box2 .memberCenter-box2 .triangle-inner-bottom {
            top: -6px;
            left: -3px;
            border-top: 3px solid #B1988B;
        }
        .coupon-dot {
            width: 10px;
            height: 10px;
            position: absolute;
            top: -10%;
            right: 33%;
            border-radius: 20px;
            background-color: red;
        }
    </style>

  <ion-content scrollbar-y="false" style="top: 300px;" class="bxjg-currentLine account-ion-content">
    <table class="user-moudle" check-login style="background: white;">
      <tr>
        <td ref="homePage" class="pos">
          <i class="icon jyicon fs28" style="color: #0c98af;">&#xe64d;</i>
          <p>我的主页</p>
        </td>
        <!--<td ref="memberCenter">-->
        <!--<i class="icon jyicon fs28" style="color: #998278;">&#xe634;</i>-->
        <!--<p>会员中心</p>-->
        <!--</td>-->
        <td ref="myOrder">
          <i class="icon jyicon fs30" style="color: #998278;">&#xe8c3;</i>
          <p>我的订单</p> </a>
        </td>
        <td ref="messageCenter" class="pos">
          <i class="icon iconfont fs28" style="color: #0c98af;">&#xe626;</i>
          <div class="messageCenter-yuan" ng-if="noRead">{{noRead}}</div>
          <p>消息通知</p>
        </td>

      </tr>
      <tr>
        <td ref="helpCenter">
          <i class="icon iconfont fs28" style="color: #11c1f3;">&#xe60b;</i>
          <p>帮助中心</p>
        </td>
        <td ref="myWallet">
          <img style="width: 28px;" src="./img/wallet.png">
          <p>我的钱包</p>
        </td>
        <td ref="couponCenter">
          <i class="icon jyicon fs30" style="color:#d87852">&#xe637;</i>
          <p>礼券中心</p>
        </td>


      </tr>
      <tr>
        <td ref="myFootprint">
          <i class="icon iconfont fs28" style="color: #28a54c;">&#xe619;</i>
          <p>我的足迹</p>
        </td>
        <td ref="business">
          <i class="icon jyicon fs26" style="color: #28a54c;">&#xe618;</i>
          <p>金逸文化</p>
        </td>
        <td ref="setUp">
          <i class="icon jyicon fs26" style="color: #998278;">&#xe7da;</i>
          <p>系统设置</p>
        </td>

      </tr>


    </table>
  </ion-content>
  <ion-footer-bar class="yd-bar-footer iphonexFoot" style="border-top:  1px solid #f5f5f5;">
    <div class="row homeNav">
      <div class="col" ui-sref="home" nav-direction="none">
        <i class="icon jyicon">&#xe601;</i>
        <p class="fs12">推荐</p>
      </div>
      <div class="col"  ui-sref="category({catId:4,index:0})" nav-direction="none">
        <i class="icon jyicon">&#xe619;</i>
        <p class="fs12">商城</p>
      </div>
      <div class="col">
      </div>
      <div class="col" ui-sref="forum" nav-direction="none">
        <i class="icon jyicon">&#xe67b;</i>
        <p class="fs12">圈子</p>
      </div>
      <div class="col" ui-sref="account" nav-direction="none">
        <i class="icon jyicon color-998278">&#xe607;</i>
        <p class="fs12 color-998278">我的</p>
      </div>
    </div>
    <div class="sogou" on-tap="sougou()">
      <img src="img/sugou.png">
    </div>
  </ion-footer-bar>

</ion-view>
